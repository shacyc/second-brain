import{r as t,j as x,C as re}from"./index-DJ0w3hwy.js";const de=()=>{function n(i){this.init(i||{})}n.prototype={init:function(i){this.phase=i.phase||0,this.offset=i.offset||0,this.frequency=i.frequency||.001,this.amplitude=i.amplitude||1},update:function(){return this.phase+=this.frequency,h=this.offset+Math.sin(this.phase)*this.amplitude},value:function(){return h}};function f(i){this.init(i||{})}f.prototype={init:function(i){this.spring=i.spring+.1*Math.random()-.02,this.friction=S.friction+.01*Math.random()-.002,this.nodes=[];for(var r,m=0;m<S.size;m++)r=new A,r.x=d.x,r.y=d.y,this.nodes.push(r)},update:function(){var i=this.spring,r=this.nodes[0];r.vx+=(d.x-r.x)*i,r.vy+=(d.y-r.y)*i;for(var m,p=0,l=this.nodes.length;p<l;p++)r=this.nodes[p],0<p&&(m=this.nodes[p-1],r.vx+=(m.x-r.x)*i,r.vy+=(m.y-r.y)*i,r.vx+=m.vx*S.dampening,r.vy+=m.vy*S.dampening),r.vx*=this.friction,r.vy*=this.friction,r.x+=r.vx,r.y+=r.vy,i*=S.tension},draw:function(){var i,r,m=this.nodes[0].x,p=this.nodes[0].y;e.beginPath(),e.moveTo(m,p);for(var l=1,q=this.nodes.length-2;l<q;l++)i=this.nodes[l],r=this.nodes[l+1],m=.5*(i.x+r.x),p=.5*(i.y+r.y),e.quadraticCurveTo(i.x,i.y,m,p);i=this.nodes[l],r=this.nodes[l+1],e.quadraticCurveTo(i.x,i.y,r.x,r.y),e.stroke(),e.closePath()}};function c(i){function r(){E=[];for(var l=0;l<S.trails;l++)E.push(new f({spring:.4+l/S.trails*.025}))}function m(l){l.touches?(d.x=l.touches[0].pageX,d.y=l.touches[0].pageY):(d.x=l.clientX,d.y=l.clientY),l.preventDefault()}function p(l){l.touches.length==1&&(d.x=l.touches[0].pageX,d.y=l.touches[0].pageY)}document.removeEventListener("mousemove",c),document.removeEventListener("touchstart",c),document.addEventListener("mousemove",m),document.addEventListener("touchmove",m),document.addEventListener("touchstart",p),m(i),r(),u()}function u(){if(e.running){e.globalCompositeOperation="source-over",e.clearRect(0,0,e.canvas.width,e.canvas.height),e.globalCompositeOperation="lighter",e.strokeStyle="hsla("+Math.round(v.update())+",50%,50%,0.2)",e.lineWidth=1;for(var i,r=0;r<S.trails;r++)(i=E[r]).update(),i.draw();e.frame++,window.requestAnimationFrame(u)}}function o(){e.canvas.width=window.innerWidth-20,e.canvas.height=window.innerHeight}var e,v,h=0,d={},E=[],S={debug:!0,friction:.5,trails:20,size:50,dampening:.25,tension:.98};function A(){this.x=0,this.y=0,this.vy=0,this.vx=0}const k=function(){e=document.getElementById("canvas").getContext("2d"),e.running=!0,e.frame=1,v=new n({phase:Math.random()*2*Math.PI,amplitude:85,frequency:.0015,offset:285}),document.addEventListener("mousemove",c),document.addEventListener("touchstart",c),document.body.addEventListener("orientationchange",o),window.addEventListener("resize",o),window.addEventListener("focus",()=>{e.running||(e.running=!0,u())}),window.addEventListener("blur",()=>{e.running=!0}),o()};t.useEffect(()=>(k(),()=>{e.running=!1,document.removeEventListener("mousemove",c),document.removeEventListener("touchstart",c),document.body.removeEventListener("orientationchange",o),window.removeEventListener("resize",o),window.removeEventListener("focus",()=>{e.running||(e.running=!0,u())}),window.removeEventListener("blur",()=>{e.running=!0})}),[])},ve=()=>(de(),x.jsx("canvas",{className:"pointer-events-none fixed inset-0",id:"canvas"}));var y=function(){return y=Object.assign||function(f){for(var c,u=1,o=arguments.length;u<o;u++){c=arguments[u];for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(f[e]=c[e])}return f},y.apply(this,arguments)};function B(n,f,c){var u=t.useRef(f);t.useEffect(function(){u.current=f}),t.useEffect(function(){var o=window,e=function(v){return u.current(v)};return o==null||o.addEventListener(n,e),function(){o==null||o.removeEventListener(n,e)}},[n,c])}var he=function(){var n=t.useState({info:"",Android:function(){return null},BlackBerry:function(){return null},IEMobile:function(){return null},iOS:function(){return null},iPad:function(){return null},OperaMini:function(){return null},any:function(){return!1}}),f=n[0],c=n[1];return t.useEffect(function(){if(typeof navigator<"u"){var u=navigator.userAgent;c(function(o){return y(y({},o),{info:u,Android:function(){return u.match(/Android/i)},BlackBerry:function(){return u.match(/BlackBerry/i)},IEMobile:function(){return u.match(/IEMobile/i)},iOS:function(){return u.match(/iPhone|iPad|iPod/i)},iPad:function(){return!!(u.match(/Mac/)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2)},OperaMini:function(){return u.match(/Opera Mini/i)},any:function(){var e,v,h,d,E;return!!(!((e=o.Android())===null||e===void 0)&&e.length||!((v=o.BlackBerry())===null||v===void 0)&&v.length||!((h=o.iOS())===null||h===void 0)&&h.length||o.iPad()||!((d=o.OperaMini())===null||d===void 0)&&d.length||!((E=o.IEMobile())===null||E===void 0)&&E.length)}})})}},[]),f};function oe(n,f){for(var c=[],u=2;u<arguments.length;u++)c[u-2]=arguments[u];if(typeof f!="function")throw new TypeError("callback must be a function");for(var o=Object(n),e=o.length>>>0,v=c[2],h=0;h<e;h++){var d=o[h];if(f.call(v,d,h,o))return d}}function me(n){var f=n.clickables,c=f===void 0?["a",'input[type="text"]','input[type="email"]','input[type="number"]','input[type="submit"]','input[type="image"]',"label[for]","select","textarea","button",".link"]:f,u=n.children,o=n.color,e=o===void 0?"220, 90, 90":o,v=n.innerScale,h=v===void 0?.6:v,d=n.innerSize,E=d===void 0?8:d,S=n.innerStyle,A=n.outerAlpha,k=A===void 0?.4:A,i=n.outerScale,r=i===void 0?6:i,m=n.outerSize,p=m===void 0?8:m,l=n.outerStyle,q=n.showSystemCursor,P=q===void 0?!1:q,Y=n.trailingSpeed,H=Y===void 0?8:Y,M=t.useMemo(function(){return{children:u,color:e,innerScale:h,innerSize:E,innerStyle:S,outerAlpha:k,outerScale:r,outerSize:p,outerStyle:l}},[u,e,h,E,S,k,r,p,l]),b=t.useRef(null),C=t.useRef(null),I=t.useRef(null),N=t.useRef(null),W=t.useState({x:0,y:0}),j=W[0],ue=W[1],U=t.useState(!1),G=U[0],J=U[1],K=t.useState(M),s=K[0],T=K[1],Q=t.useState(!1),F=Q[0],w=Q[1],Z=t.useState(!1),$=Z[0],O=Z[1],D=t.useRef(0),_=t.useRef(0),se=t.useCallback(function(g){var a=g.clientX,z=g.clientY;ue({x:a,y:z}),C.current!==null&&(C.current.style.top="".concat(z,"px"),C.current.style.left="".concat(a,"px")),D.current=a,_.current=z},[]),V=t.useCallback(function(g){N.current!==void 0&&(j.x+=(D.current-j.x)/H,j.y+=(_.current-j.y)/H,b.current!==null&&(b.current.style.top="".concat(j.y,"px"),b.current.style.left="".concat(j.x,"px"))),N.current=g,I.current=requestAnimationFrame(V)},[I]);t.useEffect(function(){return I.current=requestAnimationFrame(V),function(){I.current!==null&&cancelAnimationFrame(I.current)}},[V]);var ee=function(g,a){return"".concat(parseInt(String(g*a)),"px")},L=t.useCallback(function(g,a,z){g&&(g.style.height=ee(a,z),g.style.width=ee(a,z))},[]),ae=t.useCallback(function(){return w(!0)},[]),ce=t.useCallback(function(){return w(!1)},[]),le=t.useCallback(function(){return J(!0)},[]),fe=t.useCallback(function(){return J(!1)},[]);B("mousemove",se),B("mousedown",ae),B("mouseup",ce),B("mouseover",le),B("mouseout",fe),t.useEffect(function(){F?(L(C.current,s.innerSize,s.innerScale),L(b.current,s.outerSize,s.outerScale)):(L(C.current,s.innerSize,1),L(b.current,s.outerSize,1))},[s.innerSize,s.innerScale,s.outerSize,s.outerScale,L,F]),t.useEffect(function(){$&&(L(C.current,s.innerSize,s.innerScale*1.2),L(b.current,s.outerSize,s.outerScale*1.4))},[s.innerSize,s.innerScale,s.outerSize,s.outerScale,L,$]),t.useEffect(function(){C.current==null||b.current==null||(G?(C.current.style.opacity="1",b.current.style.opacity="1"):(C.current.style.opacity="0",b.current.style.opacity="0"))},[G]),t.useEffect(function(){var g=document.querySelectorAll(c.map(function(a){return typeof a=="object"&&(a!=null&&a.target)?a.target:a??""}).join(","));return g.forEach(function(a){P||(a.style.cursor="none");var z=typeof c=="object"?oe(c,function(R){return typeof R=="object"&&a.matches(R.target)}):{},X=y(y({},M),z);a.addEventListener("mouseover",function(){w(!0),T(X)}),a.addEventListener("click",function(){w(!0),O(!1)}),a.addEventListener("mousedown",function(){O(!0)}),a.addEventListener("mouseup",function(){w(!0)}),a.addEventListener("mouseout",function(){w(!1),O(!1),T(M)})}),function(){g.forEach(function(a){var z=typeof c=="object"?oe(c,function(R){return typeof R=="object"&&a.matches(R.target)}):{},X=y(y({},M),z);a.removeEventListener("mouseover",function(){w(!0),T(X)}),a.removeEventListener("click",function(){w(!0),O(!1)}),a.removeEventListener("mousedown",function(){O(!0)}),a.removeEventListener("mouseup",function(){w(!0)}),a.removeEventListener("mouseout",function(){w(!1),O(!1),T(M)})})}},[F,c,P,M]),t.useEffect(function(){typeof window=="object"&&!P&&(document.body.style.cursor="none")},[P]);var ne={zIndex:999,display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",borderRadius:"50%",pointerEvents:"none",transform:"translate(-50%, -50%)",transition:"opacity 0.15s ease-in-out, height 0.2s ease-in-out, width 0.2s ease-in-out"},te={cursorInner:y(y({width:s.children?"auto":s.innerSize,height:s.children?"auto":s.innerSize,backgroundColor:s.children?"transparent":"rgba(".concat(s.color,", 1)")},ne),s.innerStyle&&s.innerStyle),cursorOuter:y(y({width:s.outerSize,height:s.outerSize,backgroundColor:"rgba(".concat(s.color,", ").concat(s.outerAlpha,")")},ne),s.outerStyle&&s.outerStyle)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{ref:b,style:te.cursorOuter}),x.jsx("div",y({ref:C,style:te.cursorInner},{children:x.jsx("div",y({style:{opacity:s.children?1:0,transition:"opacity 0.3s ease-in-out"}},{children:s.children}))}))]})}function ie(n){var f=n.children,c=n.clickables,u=n.color,o=n.innerScale,e=n.innerSize,v=n.innerStyle,h=n.outerAlpha,d=n.outerScale,E=n.outerSize,S=n.outerStyle,A=n.showSystemCursor,k=n.trailingSpeed,i=he();return typeof navigator<"u"&&i.any()?x.jsx(x.Fragment,{}):x.jsx(me,y({clickables:c,color:u,innerScale:o,innerSize:e,innerStyle:v,outerAlpha:h,outerScale:d,outerSize:E,outerStyle:S,showSystemCursor:A,trailingSpeed:k},{children:f}))}const ye=t.forwardRef(function({variant:f},c){const[u,o]=t.useState(f);return t.useImperativeHandle(c,()=>({reset:()=>{setTimeout(()=>{document.querySelectorAll('[style*="cursor: none"]').forEach(v=>v.style.removeProperty("cursor"))},200)}})),t.useEffect(()=>{o(f)},[f]),(()=>{const v=["a",'input[type="text"]','input[type="email"]','input[type="number"]','input[type="submit"]','input[type="image"]',"label[for]","select","textarea","button",".link",{target:".cursor-pointer"}];switch(u){case"donut":return x.jsx(ie,{innerSize:8,outerSize:24,innerScale:1,outerScale:4,outerAlpha:0,hasBlendMode:!0,trailingSpeed:12,innerStyle:{backgroundColor:"#fff",mixBlendMode:"exclusion"},outerStyle:{backgroundColor:"#fff",mixBlendMode:"exclusion"},clickables:v});default:return x.jsx(ie,{innerSize:10,innerStyle:{backgroundColor:"hsl(var(--primary))"},outerStyle:{backgroundColor:"hsl(var(--primary) / 20%)"},clickables:v})}})()});function Se({variant:n}){const[f,c]=t.useState(n),u=t.useRef(localStorage.getItem("cursor-variant")),o=t.useRef();t.useEffect(()=>(re.eventBus.on("change-cursor",e),()=>{re.eventBus.remove("change-cursor",e)}),[]);const e=h=>{u.current!==h&&(u.current=h,localStorage.setItem("cursor-variant",h),setTimeout(()=>{c(h)},300))};return(()=>{switch(f){case"canvas":return x.jsx(ve,{});case"animated":case"donut":return x.jsx(ye,{ref:o,variant:f});default:return null}})()}export{Se as C};
