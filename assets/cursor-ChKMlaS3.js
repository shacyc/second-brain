import{r as o,j as x,C as re}from"./index-eqjge_qM.js";const de=()=>{function n(i){this.init(i||{})}n.prototype={init:function(i){this.phase=i.phase||0,this.offset=i.offset||0,this.frequency=i.frequency||.001,this.amplitude=i.amplitude||1},update:function(){return this.phase+=this.frequency,d=this.offset+Math.sin(this.phase)*this.amplitude},value:function(){return d}};function f(i){this.init(i||{})}f.prototype={init:function(i){this.spring=i.spring+.1*Math.random()-.02,this.friction=S.friction+.01*Math.random()-.002,this.nodes=[];for(var r,h=0;h<S.size;h++)r=new A,r.x=v.x,r.y=v.y,this.nodes.push(r)},update:function(){var i=this.spring,r=this.nodes[0];r.vx+=(v.x-r.x)*i,r.vy+=(v.y-r.y)*i;for(var h,p=0,l=this.nodes.length;p<l;p++)r=this.nodes[p],0<p&&(h=this.nodes[p-1],r.vx+=(h.x-r.x)*i,r.vy+=(h.y-r.y)*i,r.vx+=h.vx*S.dampening,r.vy+=h.vy*S.dampening),r.vx*=this.friction,r.vy*=this.friction,r.x+=r.vx,r.y+=r.vy,i*=S.tension},draw:function(){var i,r,h=this.nodes[0].x,p=this.nodes[0].y;e.beginPath(),e.moveTo(h,p);for(var l=1,q=this.nodes.length-2;l<q;l++)i=this.nodes[l],r=this.nodes[l+1],h=.5*(i.x+r.x),p=.5*(i.y+r.y),e.quadraticCurveTo(i.x,i.y,h,p);i=this.nodes[l],r=this.nodes[l+1],e.quadraticCurveTo(i.x,i.y,r.x,r.y),e.stroke(),e.closePath()}};function c(i){function r(){E=[];for(var l=0;l<S.trails;l++)E.push(new f({spring:.4+l/S.trails*.025}))}function h(l){l.touches?(v.x=l.touches[0].pageX,v.y=l.touches[0].pageY):(v.x=l.clientX,v.y=l.clientY),l.preventDefault()}function p(l){l.touches.length==1&&(v.x=l.touches[0].pageX,v.y=l.touches[0].pageY)}document.removeEventListener("mousemove",c),document.removeEventListener("touchstart",c),document.addEventListener("mousemove",h),document.addEventListener("touchmove",h),document.addEventListener("touchstart",p),h(i),r(),s()}function s(){if(e.running){e.globalCompositeOperation="source-over",e.clearRect(0,0,e.canvas.width,e.canvas.height),e.globalCompositeOperation="lighter",e.strokeStyle="hsla("+Math.round(m.update())+",50%,50%,0.2)",e.lineWidth=1;for(var i,r=0;r<S.trails;r++)(i=E[r]).update(),i.draw();e.frame++,window.requestAnimationFrame(s)}}function t(){e.canvas.width=window.innerWidth-20,e.canvas.height=window.innerHeight}var e,m,d=0,v={},E=[],S={debug:!0,friction:.5,trails:20,size:50,dampening:.25,tension:.98};function A(){this.x=0,this.y=0,this.vy=0,this.vx=0}const k=function(){e=document.getElementById("canvas").getContext("2d"),e.running=!0,e.frame=1,m=new n({phase:Math.random()*2*Math.PI,amplitude:85,frequency:.0015,offset:285}),document.addEventListener("mousemove",c),document.addEventListener("touchstart",c),document.body.addEventListener("orientationchange",t),window.addEventListener("resize",t),window.addEventListener("focus",()=>{e.running||(e.running=!0,s())}),window.addEventListener("blur",()=>{e.running=!0}),t()};o.useEffect(()=>(k(),()=>{e.running=!1,document.removeEventListener("mousemove",c),document.removeEventListener("touchstart",c),document.body.removeEventListener("orientationchange",t),window.removeEventListener("resize",t),window.removeEventListener("focus",()=>{e.running||(e.running=!0,s())}),window.removeEventListener("blur",()=>{e.running=!0})}),[])},ve=()=>(de(),x.jsx("canvas",{className:"pointer-events-none fixed inset-0",id:"canvas"}));var y=function(){return y=Object.assign||function(f){for(var c,s=1,t=arguments.length;s<t;s++){c=arguments[s];for(var e in c)Object.prototype.hasOwnProperty.call(c,e)&&(f[e]=c[e])}return f},y.apply(this,arguments)};function B(n,f,c){var s=o.useRef(f);o.useEffect(function(){s.current=f}),o.useEffect(function(){var t=window,e=function(m){return s.current(m)};return t==null||t.addEventListener(n,e),function(){t==null||t.removeEventListener(n,e)}},[n,c])}var he=function(){var n=o.useState({info:"",Android:function(){return null},BlackBerry:function(){return null},IEMobile:function(){return null},iOS:function(){return null},iPad:function(){return null},OperaMini:function(){return null},any:function(){return!1}}),f=n[0],c=n[1];return o.useEffect(function(){if(typeof navigator<"u"){var s=navigator.userAgent;c(function(t){return y(y({},t),{info:s,Android:function(){return s.match(/Android/i)},BlackBerry:function(){return s.match(/BlackBerry/i)},IEMobile:function(){return s.match(/IEMobile/i)},iOS:function(){return s.match(/iPhone|iPad|iPod/i)},iPad:function(){return!!(s.match(/Mac/)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2)},OperaMini:function(){return s.match(/Opera Mini/i)},any:function(){var e,m,d,v,E;return!!(!((e=t.Android())===null||e===void 0)&&e.length||!((m=t.BlackBerry())===null||m===void 0)&&m.length||!((d=t.iOS())===null||d===void 0)&&d.length||t.iPad()||!((v=t.OperaMini())===null||v===void 0)&&v.length||!((E=t.IEMobile())===null||E===void 0)&&E.length)}})})}},[]),f};function oe(n,f){for(var c=[],s=2;s<arguments.length;s++)c[s-2]=arguments[s];if(typeof f!="function")throw new TypeError("callback must be a function");for(var t=Object(n),e=t.length>>>0,m=c[2],d=0;d<e;d++){var v=t[d];if(f.call(m,v,d,t))return v}}function me(n){var f=n.clickables,c=f===void 0?["a",'input[type="text"]','input[type="email"]','input[type="number"]','input[type="submit"]','input[type="image"]',"label[for]","select","textarea","button",".link"]:f,s=n.children,t=n.color,e=t===void 0?"220, 90, 90":t,m=n.innerScale,d=m===void 0?.6:m,v=n.innerSize,E=v===void 0?8:v,S=n.innerStyle,A=n.outerAlpha,k=A===void 0?.4:A,i=n.outerScale,r=i===void 0?6:i,h=n.outerSize,p=h===void 0?8:h,l=n.outerStyle,q=n.showSystemCursor,P=q===void 0?!1:q,V=n.trailingSpeed,H=V===void 0?8:V,M=o.useMemo(function(){return{children:s,color:e,innerScale:d,innerSize:E,innerStyle:S,outerAlpha:k,outerScale:r,outerSize:p,outerStyle:l}},[s,e,d,E,S,k,r,p,l]),b=o.useRef(null),C=o.useRef(null),I=o.useRef(null),N=o.useRef(null),W=o.useState({x:0,y:0}),j=W[0],ue=W[1],U=o.useState(!1),G=U[0],J=U[1],K=o.useState(M),u=K[0],T=K[1],Q=o.useState(!1),F=Q[0],w=Q[1],Z=o.useState(!1),$=Z[0],O=Z[1],D=o.useRef(0),_=o.useRef(0),se=o.useCallback(function(g){var a=g.clientX,z=g.clientY;ue({x:a,y:z}),C.current!==null&&(C.current.style.top="".concat(z,"px"),C.current.style.left="".concat(a,"px")),D.current=a,_.current=z},[]),X=o.useCallback(function(g){N.current!==void 0&&(j.x+=(D.current-j.x)/H,j.y+=(_.current-j.y)/H,b.current!==null&&(b.current.style.top="".concat(j.y,"px"),b.current.style.left="".concat(j.x,"px"))),N.current=g,I.current=requestAnimationFrame(X)},[I]);o.useEffect(function(){return I.current=requestAnimationFrame(X),function(){I.current!==null&&cancelAnimationFrame(I.current)}},[X]);var ee=function(g,a){return"".concat(parseInt(String(g*a)),"px")},L=o.useCallback(function(g,a,z){g&&(g.style.height=ee(a,z),g.style.width=ee(a,z))},[]),ae=o.useCallback(function(){return w(!0)},[]),ce=o.useCallback(function(){return w(!1)},[]),le=o.useCallback(function(){return J(!0)},[]),fe=o.useCallback(function(){return J(!1)},[]);B("mousemove",se),B("mousedown",ae),B("mouseup",ce),B("mouseover",le),B("mouseout",fe),o.useEffect(function(){F?(L(C.current,u.innerSize,u.innerScale),L(b.current,u.outerSize,u.outerScale)):(L(C.current,u.innerSize,1),L(b.current,u.outerSize,1))},[u.innerSize,u.innerScale,u.outerSize,u.outerScale,L,F]),o.useEffect(function(){$&&(L(C.current,u.innerSize,u.innerScale*1.2),L(b.current,u.outerSize,u.outerScale*1.4))},[u.innerSize,u.innerScale,u.outerSize,u.outerScale,L,$]),o.useEffect(function(){C.current==null||b.current==null||(G?(C.current.style.opacity="1",b.current.style.opacity="1"):(C.current.style.opacity="0",b.current.style.opacity="0"))},[G]),o.useEffect(function(){var g=document.querySelectorAll(c.map(function(a){return typeof a=="object"&&(a!=null&&a.target)?a.target:a??""}).join(","));return g.forEach(function(a){P||(a.style.cursor="none");var z=typeof c=="object"?oe(c,function(R){return typeof R=="object"&&a.matches(R.target)}):{},Y=y(y({},M),z);a.addEventListener("mouseover",function(){w(!0),T(Y)}),a.addEventListener("click",function(){w(!0),O(!1)}),a.addEventListener("mousedown",function(){O(!0)}),a.addEventListener("mouseup",function(){w(!0)}),a.addEventListener("mouseout",function(){w(!1),O(!1),T(M)})}),function(){g.forEach(function(a){var z=typeof c=="object"?oe(c,function(R){return typeof R=="object"&&a.matches(R.target)}):{},Y=y(y({},M),z);a.removeEventListener("mouseover",function(){w(!0),T(Y)}),a.removeEventListener("click",function(){w(!0),O(!1)}),a.removeEventListener("mousedown",function(){O(!0)}),a.removeEventListener("mouseup",function(){w(!0)}),a.removeEventListener("mouseout",function(){w(!1),O(!1),T(M)})})}},[F,c,P,M]),o.useEffect(function(){typeof window=="object"&&!P&&(document.body.style.cursor="none")},[P]);var ne={zIndex:999,display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",borderRadius:"50%",pointerEvents:"none",transform:"translate(-50%, -50%)",transition:"opacity 0.15s ease-in-out, height 0.2s ease-in-out, width 0.2s ease-in-out"},te={cursorInner:y(y({width:u.children?"auto":u.innerSize,height:u.children?"auto":u.innerSize,backgroundColor:u.children?"transparent":"rgba(".concat(u.color,", 1)")},ne),u.innerStyle&&u.innerStyle),cursorOuter:y(y({width:u.outerSize,height:u.outerSize,backgroundColor:"rgba(".concat(u.color,", ").concat(u.outerAlpha,")")},ne),u.outerStyle&&u.outerStyle)};return x.jsxs(x.Fragment,{children:[x.jsx("div",{ref:b,style:te.cursorOuter}),x.jsx("div",y({ref:C,style:te.cursorInner},{children:x.jsx("div",y({style:{opacity:u.children?1:0,transition:"opacity 0.3s ease-in-out"}},{children:u.children}))}))]})}function ie(n){var f=n.children,c=n.clickables,s=n.color,t=n.innerScale,e=n.innerSize,m=n.innerStyle,d=n.outerAlpha,v=n.outerScale,E=n.outerSize,S=n.outerStyle,A=n.showSystemCursor,k=n.trailingSpeed,i=he();return typeof navigator<"u"&&i.any()?x.jsx(x.Fragment,{}):x.jsx(me,y({clickables:c,color:s,innerScale:t,innerSize:e,innerStyle:m,outerAlpha:d,outerScale:v,outerSize:E,outerStyle:S,showSystemCursor:A,trailingSpeed:k},{children:f}))}const ye=o.forwardRef(function({variant:f},c){return o.useImperativeHandle(c,()=>({reset:()=>{setTimeout(()=>{document.querySelectorAll('[style*="cursor: none"]').forEach(t=>t.style.removeProperty("cursor"))},200)}})),(()=>{const t=["a",'input[type="text"]','input[type="email"]','input[type="number"]','input[type="submit"]','input[type="image"]',"label[for]","select","textarea","button",".link",{target:".cursor-pointer"}];switch(f){case"donut":return x.jsx(ie,{innerSize:8,outerSize:24,innerScale:1,outerScale:4,outerAlpha:0,hasBlendMode:!0,trailingSpeed:12,innerStyle:{backgroundColor:"#fff",mixBlendMode:"exclusion"},outerStyle:{backgroundColor:"#fff",mixBlendMode:"exclusion"},clickables:t});default:return x.jsx(ie,{innerSize:10,innerStyle:{backgroundColor:"hsl(var(--primary))"},outerStyle:{backgroundColor:"hsl(var(--primary) / 20%)"},clickables:t})}})()});function Se({variant:n}){const[f,c]=o.useState(n),s=o.useRef(localStorage.getItem("cursor-variant")),t=o.useRef();o.useEffect(()=>(re.eventBus.on("change-cursor",e),()=>{re.eventBus.remove("change-cursor",e)}),[]);const e=d=>{s.current!==d&&(s.current=d,localStorage.setItem("cursor-variant",d),t.current&&t.current.reset(d),setTimeout(()=>{c(d)},300))};return(()=>{switch(f){case"canvas":return x.jsx(ve,{});case"animated":case"donut":return x.jsx(ye,{ref:t,variant:f});default:return null}})()}export{Se as C};
